define(["jquery"],function(t){function i(i){var o={idNames:[],data:[]};this.opts=t.extend(o,i),this.init()}return i.prototype.init=function(){var i=this;"undefined"==typeof firstOption&&(firstOption='<option value="">--请选择--</option>',firstOption+=i.getOption(this.opts.data)),t.each(this.opts.idNames,function(o,n){0==o?t("#"+n).html(firstOption):t("#"+n).html('<option value="">--请选择--</option>'),t("#"+n).change(function(){i.change(t(this).find("option:selected").val(),t(this))})})},i.prototype.change=function(i,o){var n=this,e=o.attr("id"),a=0;t.each(this.opts.idNames,function(t,i){e==i&&(a=t)});var p;0==a&&(p='<option value="">--请选择--</option>',t.each(n.opts.data,function(t,o){o.id==i&&(p+=n.getOption(o.nodes))}),t("#"+n.opts.idNames[a+1]).html(p))},i.prototype.selectedId=function(i,o,n){var e=this;t("#"+e.opts.idNames[0]).find("option[value="+i+"]").attr("selected",!0),e.change(t("#"+e.opts.idNames[0]).find("option:selected").val(),t("#"+e.opts.idNames[0])),t("#"+e.opts.idNames[1]).find("option[value="+o+"]").attr("selected",!0)},i.prototype.getOption=function(i){var o="";return t.each(i,function(t,i){o+='<option value="'+i.id+'">'+i.name+"</option>"}),o},i});